## 开发环境

- 开发环境————项目开发阶段所使用的配置，为了开发方便可以随意配置
- 测试环境————测试人员利用一些工具及数据所模拟出的、接近真实用户使用环境的环境。
- 生产环境————即发布环境，真实用户访问的环境。由特定人员来维护，一般人没有权限去修改。该环境是指正式提供对外服务的，真实用户线上使用的环境；关闭错误报告，打开错误日志。



> 配置不同的环境，就是在数据请求以及代理服务器的地方采用不同的服务器地址



## 编辑配置文件（搭建环境）

1. ##### 在项目的最外层更目录创建.env文件

   - development————开发环境
   - production————生产环境

![image-20231214163836826](https://cdn.jsdelivr.net/gh/xiaobo1012/imgPicGo/imgs/202312141638859.png) 



2. ##### 编写配置文件

> 请注意，只有 `NODE_ENV`，`BASE_URL` 和以 `VUE_APP_` 开头的变量将通过 `webpack.DefinePlugin` 静态地嵌入到*客户端侧*的代码中。这是为了避免意外公开机器上可能具有相同名称的私钥。

```js
// 可以在配置文件中自定义很多东西，这些东西可以在任何地方被取出来
// 前提是以`NODE_ENV`，`BASE_URL` 和以 `VUE_APP_` 开头
// 例如：
VUE_APP_PORT = 8888				//这里定义了端口号
VUE_APP_BASE_URL= "/api"		// 这里定义了代理服务器的api头   url = base url + request url
VUE_APP_XXXX = "XXXX"			// 这里是一个模板，可以定义任何东西
```





## 在代码中获取环境变量

> 在整个项目的任何地方都可以获取到配置文件中的变量

1. ##### 获取环境变量

```js
// process 是nodejs提供的一个全局变量
process.
process.env.VUE_APP_PORT		// 8888
process.env.VUE_APP_BASE_URL	// /api
process.env.VUE_APP_XXXX		// xxxx


// 用法
//[注]：这里的NODE_ENV = 'development' 不需要手动定义，项目会自动检测处于什么环境
lintOnSave: process.env.NODE_ENV === 'development'
```



```js
let replacePath = '^' + process.env.VUE_APP_BASE_API

//  这里要配置代理跨域问题
// 要将process.env.VUE_APP_BASE_API作为key，则需要换个写法，用【】包裹
proxy: {
  [process.env.VUE_APP_BASE_API]: {
     target: process.env.VUE_APP_SERVER_PATH,
     pathRewrite: { [replacePath]: '' }
  }
},
```

